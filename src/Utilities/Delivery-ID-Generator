// Delivery ID Generator for MEL04 & MEL05
using System;

public class DeliveryID_Generator
{
    private static Random digits = new Random();

    public static void Main(string[] args)
    {
        Console.WriteLine("\nWelcome to Delivery/Access ID Generator\n");

        while (true)
        {
            string siteCode = GetSiteSelection();
            if (siteCode == null) break;  // User chose to quit

            string typeCode = GetDeliveryType();
            if (typeCode == null) break;  // Invalid, retry

            string id = GenerateID(siteCode, typeCode);
            Console.WriteLine($"\nGenerated Delivery ID: {id}\n");
        }

        Console.WriteLine("Program ended. Goodbye..");
    }

    // ============== SITE SELECTION ==============
    static string GetSiteSelection()
    {
        while (true)
        {
            Console.WriteLine("SELECT SITE FOR ID GENERATION:");
            Console.Write("(1)  MEL04 \n(2)  MEL05 \n(0)  Quit Program\n\nSelection: ");

            string input = Console.ReadLine();

            switch (input)
            {
                case "1": return "MS04";
                case "2": return "MS05";
                case "0": return null;
                default:
                    Console.WriteLine("Invalid selection. Try again.\n");
                    break;
            }
        }
    }

    // ============== DELIVERY TYPE ==============
    static string GetDeliveryType()
    {
        while (true)
        {
            Console.WriteLine("\nSELECT DELIVERY/PICKUP TYPE:");
			Console.Write("(P)  for Purchase Order deliveries \n(R)  for RMA deliveries/pickups \n(T)  for Transfer Orders\n(O)  for all Other deliveries/pickups\n\nSelection: ");

            string input = Console.ReadLine()?.ToUpper();

            switch (input)
            {
                case "P": return "P";
                case "R": return "RMA";
                case "T": return "T";
                case "O": return "O";
                default:
                    Console.WriteLine("Invalid selection. Try again.\n");
                    break;
            }
        }
    }

    // ============== ID GENERATION ==============
    static string GenerateID(string site, string type)
    {
        int number = digits.Next(1000);
        string threeDigits = number.ToString("D3");
        return site + type + threeDigits;
    }
}
